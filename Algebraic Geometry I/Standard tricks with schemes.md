# Trick 1

Assume $f: Spec(B) \to Spec(A)$ morphism associated to $\varphi: A \to B$. For every $s \in A$,$$f^{-1}D(s) = D(\varphi s).$$
v. [[Affine scheme]]

# Trick 2

Assume $Spec(A)$ and $Spec(B)$ are affine open subschemes of $X$. Then $Spec(A) \cap Spec(B)$ is covered by open affine $U \subseteq Spec(A) \cap Spec(B)$ which are of the form $U = D(s) = Spec(A_s)$ and $U = D(t) = Spec(B_t)$, for some $s \in A$ and $t \in B$.

# Trick 3

Assume $f: X = \bigcup_i Spec(B_i) \to Spec(A)$. Then $f^{-1} Spec(A_s) = \bigcup_i Spec((B_i)_{t_i})$, where $t_i$ is the image of $s$ under $A \to B_i$.

*Proof.* It follows from (1). **qed**

v. [[Scheme]] "preimage of a basic open set inside an affine chart"

# Trick 4

Assume $\varphi: A \to B$ is a ring homomorphism, and $b_i \in B$ such that $(b_i)_i = B$. If $B_{b_i}$ is of finite type over $A$ (for all $i$), then also $B$ is of finite type over $A$.

Recordem que "$B$ is of finite type over $A$" significa que "B is a finitely generated $A$-algebra".

**InterpretaciÃ³ geomÃ¨trica:** Let $f: Spec(B) \to Spec(A)$ be a morphism of affine schemes, and consider a finite open covering $\{D(b_i)\}_i$ of $B$. If each restriction $f|_{D(b_i)}$ makes $A \to B_{b_i}$ a finite $A$-module, then $f$ makes $A \to B$ a finite $A$-module.

En altres paraules, la condiciÃ³ que $f: Spec(B) \to Spec(A)$ fa $A \to B$ un $A$-mÃ²dul finit es pot comprovar localment.

*Proof.*

There exist coefficients $a_i \in B$ such that $\sum_i a_i b_i = 1$ (finite sum). Hence,$$B_{b_i} = A[\beta_{i,1},\dots,\beta_{i,N_i}],\quad \beta_{ij} = \frac{\alpha_{ij}}{b_i}k_{ij},\quad \alpha_{ij} \in B.$$
Let $B'$ be the $A$-subalgebra of $B$ generated by $a_i$, $b_i$ and $\alpha_{ij}$. Hence $B'$ is of finite type over $A$. Since $(b_i)_i = B$, for every positive $M$ it holds that $(b_i^M) = B$. ............

***Claim.*** *For every $b \in B$ and for $M$ big enough, $b b_i^M$ is in $B'$.*

Since $b = \sum_i c_i b b_i^M$, where the $c_i$ arise as a linear combination $1 = \sum_i c_i b_i^M$, we deduce that $B = B'$.

# Trick 5

Let $\varphi: A \to B$ be a ring homomorphism and $s_i \in A$ have image $t_i := \varphi s_i$. If $B_{t_i}$ is of finite type over $A_{s_i}$, then also $B$ is of finite type over $A$.

$B_{t_i}$ is generated as an $A_{s_i}$-algebra by $\beta_{1,1},\dots, \beta_{i,N_i}$, where these elements are of the form$$\beta_{i,j} = \frac{\alpha_{ij}}{t_i^{k_{ij}}},\quad \alpha_{ij} \in B.$$
Let $B'$ be the $A$-sub algebra generated by $\alpha_{ij}$ and $t_i$ (since these are finitely many, it is of finite type over $A$).

Since $(s_i)_i = A$, $(s_i^M)_i = A$ for positive $M$, and hence $\sum_i a_i s_i^M = 1$ for some coefficients $a_i \in A$. The image of this linear combination under $A \to B$ gives $\sum_i a_i t_i^M = 1$. Multiply this by $b \in B$, and we get that $b = \sum_i a_i b t_i^M$. For $M$ big enough, $bt_i^M$ is contained in $B'$, so $b \in B'$. Hence $B = B'$ (we deduce finite type statement).

# Trick 6

Let $X$ be a scheme, and $A = \Gamma(X,\mathcal{O}_X)$. Then $X$ is affine if, and only if, there exist $a_1, \dots, a_n \in A$ such that
1. $(a_i)_i = A$,
2. $X_{a_i}$ are affine.

*Proof.*

=>] Take $n = 1$, $a_1 = 1$.

<=]

Consider $f: X \to Spec(A)$. Set $X_i := X_{a_i} = f^{-1} Spec(A_{a_i})$. By assumption, there exist $A_i$ such that $Spec(A_i) = X_i$.

***Claim.*** $A_i \cong A_{a_i}$.

Then $X_i = Spec(A_i) \cong Spec(A_{a_i})$. Hence $X$ is obtained by glueing $Spec(A_i) = Spec(A_{a_i})$, but the glueing takes place inside $Spec(A)$ and hence gives $Spec(A)$. This concludes that $X = Spec(A)$.

*Proof of the claim.*

***Injectivity of $A_{a_i} \to A_i$:*** It's enough to show that if $a \in A \to A_i$ is mapped to zero, then also $A \to A_{a_i}$ maps $a$ to zero.z

The images of the $a$ are restrictions. Use the sheaf condition.

***Surjectivity:*** Take $b \in A_i = \Gamma(X_i,\mathcal{O}_X)$. There exist $\bar a_i^{n_j} b$ in the image of $A_j \to (A_j)_{a_i}$. Can take the biggest power $n := max (n_j)$. Consider preimages $b_j$ of $\bar a_i^n b$. These glue to produce a preimage of $b$. **qed**